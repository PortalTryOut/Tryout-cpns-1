<!DOCTYPE html>
<html lang="id" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tryout CPNS - Tes Wawasan Kebangsaan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            box-sizing: border-box;
        }
        .timer-warning {
            animation: pulse 1s infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .zoom-image {
            cursor: zoom-in;
            transition: transform 0.2s ease;
        }
        .zoom-image:hover {
            transform: scale(1.02);
        }
        .image-modal {
            backdrop-filter: blur(5px);
        }
        .zoomed-image {
            max-width: 90vw;
            max-height: 90vh;
            object-fit: contain;
        }
    </style>
</head>
<body class="h-full bg-gradient-to-br from-blue-50 to-indigo-100 font-sans">
    <div class="min-h-full flex flex-col">
        <!-- Welcome Page -->
        <div id="welcomePage" class="min-h-full flex items-center justify-center bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 relative overflow-hidden">
            <!-- Animated Background Elements -->
            <div class="absolute inset-0 overflow-hidden">
                <div class="absolute -top-40 -right-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"></div>
                <div class="absolute -bottom-40 -left-40 w-80 h-80 bg-indigo-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse animation-delay-2000"></div>
                <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-10 animate-pulse animation-delay-4000"></div>
            </div>
            
            <!-- Geometric Pattern -->
            <div class="absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23ffffff" fill-opacity="0.03"%3E%3Cpath d="M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')] opacity-10"></div>
            
            <div class="max-w-xl w-full mx-4 relative z-10">
                <div class="bg-white/95 backdrop-blur-lg rounded-3xl shadow-2xl border border-white/30 overflow-hidden">
                    <!-- Header Section with Modern Design -->
                    <div class="bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 p-8 text-center relative">
                        <div class="absolute inset-0 bg-black/10"></div>
                        <div class="relative z-10">
                            <!-- Logo Container -->
                            <div class="w-20 h-20 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg border border-white/30">
                                <img src="https://i.postimg.cc/RCNTsyGt/Logo-Portal-Try-Out.png" 
                                     alt="Logo Portal Try Out" 
                                     class="w-14 h-14 object-contain rounded-xl"
                                     onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                                <div class="w-14 h-14 bg-gradient-to-br from-white/30 to-white/10 rounded-xl flex items-center justify-center hidden">
                                    <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                                    </svg>
                                </div>
                            </div>
                            
                            <!-- Brand Title -->
                            <h1 class="text-3xl font-bold text-white mb-2 tracking-tight">Portal Try Out</h1>
                            <p class="text-blue-100 text-lg font-medium mb-4">"Latihan Cerdas, Karir Tuntas"</p>
                            
                            <!-- Try Out Badge -->
                            <div class="inline-flex items-center gap-2 bg-white/20 backdrop-blur-sm rounded-full px-4 py-2 border border-white/30">
                                <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div>
                                <span class="text-white text-sm font-semibold">Try Out #1 - CPNS 2024</span>
                            </div>
                        </div>
                    </div>

                    <!-- Content Section -->
                    <div class="p-8">
                        <!-- Stats Cards -->
                        <div class="grid grid-cols-3 gap-4 mb-8">
                            <div class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-4 border border-blue-200/50 shadow-sm hover:shadow-md transition-all duration-300 group">
                                <div class="text-center">
                                    <div class="w-10 h-10 bg-blue-500 rounded-xl flex items-center justify-center mx-auto mb-2 group-hover:scale-110 transition-transform duration-300">
                                        <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                                        </svg>
                                    </div>
                                    <div class="text-2xl font-bold text-blue-700 mb-1">30</div>
                                    <div class="text-xs text-blue-600 font-semibold">TWK</div>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-green-50 to-green-100 rounded-2xl p-4 border border-green-200/50 shadow-sm hover:shadow-md transition-all duration-300 group">
                                <div class="text-center">
                                    <div class="w-10 h-10 bg-green-500 rounded-xl flex items-center justify-center mx-auto mb-2 group-hover:scale-110 transition-transform duration-300">
                                        <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                                        </svg>
                                    </div>
                                    <div class="text-2xl font-bold text-green-700 mb-1">35</div>
                                    <div class="text-xs text-green-600 font-semibold">TIU</div>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-purple-50 to-purple-100 rounded-2xl p-4 border border-purple-200/50 shadow-sm hover:shadow-md transition-all duration-300 group">
                                <div class="text-center">
                                    <div class="w-10 h-10 bg-purple-500 rounded-xl flex items-center justify-center mx-auto mb-2 group-hover:scale-110 transition-transform duration-300">
                                        <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                                        </svg>
                                    </div>
                                    <div class="text-2xl font-bold text-purple-700 mb-1">45</div>
                                    <div class="text-xs text-purple-600 font-semibold">TKP</div>
                                </div>
                            </div>
                        </div>

                        <!-- Form Section -->
                        <form id="startForm" class="space-y-6 mb-8">
                            <div class="space-y-3">
                                <label for="participantToken" class="block text-sm font-bold text-gray-800 flex items-center gap-2">
                                    <svg class="w-4 h-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"></path>
                                    </svg>
                                    Token Akses
                                </label>
                                <div class="relative">
                                    <input 
                                        type="password" 
                                        id="participantToken" 
                                        name="participantToken"
                                        class="w-full px-5 py-4 border-2 border-gray-200 rounded-2xl focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20 focus:outline-none transition-all duration-300 text-gray-800 font-medium placeholder-gray-400 bg-gray-50/50"
                                        placeholder="Masukkan token akses Anda"
                                        required
                                    >
                                    <div class="absolute inset-y-0 right-0 flex items-center pr-4">
                                        <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
                                        </svg>
                                    </div>
                                </div>
                            </div>
                            
                            <button 
                                type="submit"
                                class="w-full bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white py-4 px-8 rounded-2xl hover:from-blue-700 hover:via-indigo-700 hover:to-purple-700 transition-all duration-300 font-bold text-lg shadow-xl hover:shadow-2xl transform hover:-translate-y-1 hover:scale-[1.02] flex items-center justify-center gap-3 group"
                            >
                                <svg class="w-6 h-6 group-hover:rotate-12 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                                </svg>
                                Mulai Tryout Sekarang
                                <div class="w-2 h-2 bg-white/30 rounded-full animate-pulse"></div>
                            </button>
                            
                            <div class="flex items-center justify-center gap-2 text-xs text-gray-500">
                                <svg class="w-4 h-4 text-orange-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path>
                                </svg>
                                <span class="font-medium">Pastikan koneksi internet stabil selama mengerjakan</span>
                            </div>
                        </form>

                        <!-- Admin Section -->
                        <div class="border-t border-gray-200 pt-6">
                            <div class="bg-gradient-to-r from-amber-50 to-orange-50 rounded-2xl p-4 border border-amber-200/50 mb-4">
                                <div class="flex items-start gap-3">
                                    <div class="w-8 h-8 bg-amber-500 rounded-xl flex items-center justify-center flex-shrink-0">
                                        <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                                        </svg>
                                    </div>
                                    <div class="flex-1">
                                        <p class="text-sm text-amber-800 font-semibold mb-1">💡 Info Pembahasan</p>
                                        <p class="text-xs text-amber-700 leading-relaxed">Untuk mendapatkan password pembahasan, silahkan kerjakan try out terlebih dahulu!</p>
                                    </div>
                                </div>
                            </div>
                            
                            <button 
                                id="adminBtn"
                                class="w-full bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 py-3 px-6 rounded-2xl hover:from-blue-50 hover:to-indigo-50 hover:text-blue-700 transition-all duration-300 font-semibold text-sm border border-gray-300 hover:border-blue-300 flex items-center justify-center gap-3 group shadow-sm hover:shadow-md"
                            >
                                <svg class="w-5 h-5 group-hover:scale-110 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
                                </svg>
                                Akses Pembahasan
                                <svg class="w-4 h-4 group-hover:translate-x-1 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                                </svg>
                            </button>
                        
                        <!-- Social Media Section -->
                        <div class="mt-6 bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 rounded-2xl p-6 border border-indigo-200 shadow-lg">
                            <div class="text-center mb-6">
                                <div class="inline-flex items-center justify-center w-12 h-12 bg-gradient-to-br from-indigo-600 to-purple-700 rounded-xl mb-3 shadow-lg">
                                    <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a2 2 0 01-2-2v-2M9 7a2 2 0 012-2h2a2 2 0 012 2v11a2 2 0 01-2 2H9a2 2 0 01-2-2z"></path>
                                    </svg>
                                </div>
                                <h3 class="text-lg font-bold text-slate-800 mb-2">Ikuti Portal Try Out</h3>
                                <p class="text-slate-600 text-sm">Dapatkan tips, update soal terbaru, dan motivasi belajar</p>
                            </div>
                            
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                                <!-- TikTok -->
                                <a href="https://www.tiktok.com/@portal.tryout" target="_blank" rel="noopener noreferrer" 
                                   class="flex flex-col items-center p-4 bg-white rounded-xl border border-slate-200 hover:border-pink-300 hover:shadow-lg transition-all duration-300 group">
                                    <div class="w-10 h-10 bg-gradient-to-br from-pink-500 to-red-600 rounded-xl flex items-center justify-center mb-2 group-hover:scale-110 transition-transform duration-300">
                                        <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M19.59 6.69a4.83 4.83 0 01-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 01-5.2 1.74 2.89 2.89 0 012.31-4.64 2.93 2.93 0 01.88.13V9.4a6.84 6.84 0 00-.88-.05A6.33 6.33 0 005 20.1a6.34 6.34 0 0010.86-4.43v-7a8.16 8.16 0 004.77 1.52v-3.4a4.85 4.85 0 01-1-.1z"/>
                                        </svg>
                                    </div>
                                    <span class="text-xs font-medium text-slate-700 group-hover:text-pink-600 transition-colors">TikTok</span>
                                </a>
                                
                                <!-- Instagram -->
                                <a href="https://www.instagram.com/portaltryout/" target="_blank" rel="noopener noreferrer"
                                   class="flex flex-col items-center p-4 bg-white rounded-xl border border-slate-200 hover:border-purple-300 hover:shadow-lg transition-all duration-300 group">
                                    <div class="w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl flex items-center justify-center mb-2 group-hover:scale-110 transition-transform duration-300">
                                        <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                                        </svg>
                                    </div>
                                    <span class="text-xs font-medium text-slate-700 group-hover:text-purple-600 transition-colors">Instagram</span>
                                </a>
                                
                                <!-- YouTube -->
                                <a href="https://www.youtube.com/@portaltryout" target="_blank" rel="noopener noreferrer"
                                   class="flex flex-col items-center p-4 bg-white rounded-xl border border-slate-200 hover:border-red-300 hover:shadow-lg transition-all duration-300 group">
                                    <div class="w-10 h-10 bg-gradient-to-br from-red-500 to-red-700 rounded-xl flex items-center justify-center mb-2 group-hover:scale-110 transition-transform duration-300">
                                        <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                                        </svg>
                                    </div>
                                    <span class="text-xs font-medium text-slate-700 group-hover:text-red-600 transition-colors">YouTube</span>
                                </a>
                                
                                <!-- Email -->
                                <button id="emailBtn" 
                                        class="flex flex-col items-center p-4 bg-white rounded-xl border border-slate-200 hover:border-blue-300 hover:shadow-lg transition-all duration-300 group">
                                    <div class="w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-700 rounded-xl flex items-center justify-center mb-2 group-hover:scale-110 transition-transform duration-300">
                                        <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                                        </svg>
                                    </div>
                                    <span class="text-xs font-medium text-slate-700 group-hover:text-blue-600 transition-colors">Email</span>
                                </button>
                            </div>
                            
                            <div class="mt-4 text-center">
                                <p class="text-xs text-slate-500">
                                    💡 Follow untuk mendapatkan update soal terbaru dan tips sukses CPNS
                                </p>
                            </div>
                        </div>
                        
                        <!-- Journey Flow Section -->
                        <div class="mt-8 bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 rounded-2xl p-8 border border-slate-200 shadow-lg">
                            <!-- Header Section -->
                            <div class="text-center mb-8">
                                <div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-600 to-indigo-700 rounded-2xl mb-4 shadow-lg">
                                    <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                                    </svg>
                                </div>
                                <h3 class="text-2xl font-bold bg-gradient-to-r from-slate-800 to-blue-800 bg-clip-text text-transparent mb-2">
                                    Perjalanan Meraih Mimpi Menjadi ASN
                                </h3>
                                <p class="text-slate-600 font-medium">Strategi Efektif Menuju Karir Impian</p>
                                <div class="w-24 h-1 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-full mx-auto mt-3"></div>
                            </div>
                            
                            <!-- Modern Flow Steps -->
                            <div class="relative">
                                <!-- Connecting Line -->
                                <div class="absolute left-8 top-16 bottom-16 w-0.5 bg-gradient-to-b from-blue-300 via-green-300 via-purple-300 to-orange-300 hidden md:block"></div>
                                
                                <div class="space-y-8">
                                    <!-- Step 1 -->
                                    <div class="relative flex items-start gap-6 group">
                                        <div class="relative z-10 w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-700 text-white rounded-2xl flex items-center justify-center font-bold text-lg flex-shrink-0 shadow-lg group-hover:scale-110 transition-transform duration-300">
                                            <div class="text-center">
                                                <div class="text-sm font-bold">01</div>
                                            </div>
                                            <div class="absolute -inset-1 bg-gradient-to-br from-blue-400 to-blue-600 rounded-2xl opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
                                        </div>
                                        <div class="flex-1 group-hover:translate-x-2 transition-transform duration-300">
                                            <div class="bg-white rounded-2xl p-6 shadow-lg border border-slate-200 hover:shadow-xl transition-all duration-300">
                                                <div class="flex items-center gap-3 mb-3">
                                                    <div class="w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center">
                                                        <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                                                        </svg>
                                                    </div>
                                                    <h4 class="text-xl font-bold text-slate-800">Kerjakan Try Out</h4>
                                                </div>
                                                <p class="text-slate-600 leading-relaxed">Latihan intensif soal TWK, TIU, dan TKP untuk mengukur kemampuan dan mengidentifikasi area yang perlu diperbaiki</p>
                                                <div class="mt-4 flex flex-wrap gap-2">
                                                    <span class="px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium">TWK</span>
                                                    <span class="px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium">TIU</span>
                                                    <span class="px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-medium">TKP</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Step 2 -->
                                    <div class="relative flex items-start gap-6 group">
                                        <div class="relative z-10 w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-700 text-white rounded-2xl flex items-center justify-center font-bold text-lg flex-shrink-0 shadow-lg group-hover:scale-110 transition-transform duration-300">
                                            <div class="text-center">
                                                <div class="text-sm font-bold">02</div>
                                            </div>
                                            <div class="absolute -inset-1 bg-gradient-to-br from-green-400 to-emerald-600 rounded-2xl opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
                                        </div>
                                        <div class="flex-1 group-hover:translate-x-2 transition-transform duration-300">
                                            <div class="bg-white rounded-2xl p-6 shadow-lg border border-slate-200 hover:shadow-xl transition-all duration-300">
                                                <div class="flex items-center gap-3 mb-3">
                                                    <div class="w-10 h-10 bg-green-100 rounded-xl flex items-center justify-center">
                                                        <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                                                        </svg>
                                                    </div>
                                                    <h4 class="text-xl font-bold text-slate-800">Pelajari Pembahasan</h4>
                                                </div>
                                                <p class="text-slate-600 leading-relaxed">Analisis mendalam setiap jawaban dan konsep untuk memahami pola soal serta meningkatkan strategi pengerjaan</p>
                                                <div class="mt-4 bg-green-50 rounded-lg p-3 border border-green-200">
                                                    <p class="text-green-700 text-sm font-medium">💡 Fokus pada pemahaman konsep, bukan hafalan</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Step 3 -->
                                    <div class="relative flex items-start gap-6 group">
                                        <div class="relative z-10 w-16 h-16 bg-gradient-to-br from-purple-500 to-violet-700 text-white rounded-2xl flex items-center justify-center font-bold text-lg flex-shrink-0 shadow-lg group-hover:scale-110 transition-transform duration-300">
                                            <div class="text-center">
                                                <div class="text-sm font-bold">03</div>
                                            </div>
                                            <div class="absolute -inset-1 bg-gradient-to-br from-purple-400 to-violet-600 rounded-2xl opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
                                        </div>
                                        <div class="flex-1 group-hover:translate-x-2 transition-transform duration-300">
                                            <div class="bg-white rounded-2xl p-6 shadow-lg border border-slate-200 hover:shadow-xl transition-all duration-300">
                                                <div class="flex items-center gap-3 mb-3">
                                                    <div class="w-10 h-10 bg-purple-100 rounded-xl flex items-center justify-center">
                                                        <svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                                                        </svg>
                                                    </div>
                                                    <h4 class="text-xl font-bold text-slate-800">Ulangi & Evaluasi</h4>
                                                </div>
                                                <p class="text-slate-600 leading-relaxed">Kerjakan try out berulang untuk mengukur progress dan mengasah kemampuan hingga mencapai target skor optimal</p>
                                                <div class="mt-4 grid grid-cols-2 gap-3">
                                                    <div class="bg-purple-50 rounded-lg p-3 text-center border border-purple-200">
                                                        <div class="text-purple-700 font-bold text-lg">📈</div>
                                                        <div class="text-purple-600 text-xs font-medium">Track Progress</div>
                                                    </div>
                                                    <div class="bg-purple-50 rounded-lg p-3 text-center border border-purple-200">
                                                        <div class="text-purple-700 font-bold text-lg">🎯</div>
                                                        <div class="text-purple-600 text-xs font-medium">Target Skor</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Final Achievement -->
                                    <div class="relative flex items-start gap-6 group">
                                        <div class="relative z-10 w-16 h-16 bg-gradient-to-br from-amber-500 to-orange-600 text-white rounded-2xl flex items-center justify-center font-bold text-lg flex-shrink-0 shadow-lg group-hover:scale-110 transition-transform duration-300">
                                            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3l14 9-14 9V3z"></path>
                                            </svg>
                                            <div class="absolute -inset-1 bg-gradient-to-br from-amber-400 to-orange-500 rounded-2xl opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
                                        </div>
                                        <div class="flex-1 group-hover:translate-x-2 transition-transform duration-300">
                                            <div class="bg-gradient-to-br from-amber-50 to-orange-50 rounded-2xl p-6 shadow-lg border-2 border-amber-300 hover:shadow-xl transition-all duration-300">
                                                <div class="flex items-center gap-3 mb-3">
                                                    <div class="w-10 h-10 bg-amber-100 rounded-xl flex items-center justify-center">
                                                        <svg class="w-5 h-5 text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"></path>
                                                        </svg>
                                                    </div>
                                                    <h4 class="text-xl font-bold text-amber-800">Siap Menghadapi Tes CPNS</h4>
                                                </div>
                                                <p class="text-amber-700 leading-relaxed font-medium">Dengan persiapan sistematis dan latihan konsisten, Anda siap meraih mimpi menjadi Aparatur Sipil Negara!</p>
                                                <div class="mt-4 bg-white rounded-lg p-4 border border-amber-300">
                                                    <div class="flex items-center justify-center gap-2 text-amber-700">
                                                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                                            <path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                                                        </svg>
                                                        <span class="font-bold">Sukses Menanti!</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Professional Quote Section -->
                            <div class="mt-8 bg-white rounded-2xl p-6 shadow-lg border border-slate-200">
                                <div class="text-center">
                                    <div class="w-12 h-12 bg-gradient-to-br from-slate-600 to-slate-800 rounded-xl flex items-center justify-center mx-auto mb-4">
                                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"></path>
                                        </svg>
                                    </div>
                                    <blockquote class="text-lg text-slate-700 font-medium italic leading-relaxed mb-4">
                                        "Kesuksesan dalam CPNS bukan tentang keberuntungan, tetapi tentang persiapan yang sistematis, latihan yang konsisten, dan pembelajaran dari setiap kesalahan"
                                    </blockquote>
                                    <div class="flex items-center justify-center gap-2">
                                        <div class="w-8 h-0.5 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-full"></div>
                                        <p class="text-sm text-slate-500 font-semibold">Portal Try Out</p>
                                        <div class="w-8 h-0.5 bg-gradient-to-r from-indigo-600 to-blue-600 rounded-full"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Social Media Section -->
                        <div class="mt-8 bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 rounded-2xl p-6 border border-indigo-200 shadow-lg">
                            <div class="text-center mb-6">
                                <div class="inline-flex items-center justify-center w-12 h-12 bg-gradient-to-br from-indigo-600 to-purple-700 rounded-xl mb-3 shadow-lg">
                                    <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a2 2 0 01-2-2v-2M9 7a2 2 0 012-2h2a2 2 0 012 2v11a2 2 0 01-2 2H9a2 2 0 01-2-2z"></path>
                                    </svg>
                                </div>
                                <h3 class="text-lg font-bold text-slate-800 mb-2">Ikuti Portal Try Out</h3>
                                <p class="text-slate-600 text-sm">Dapatkan tips, update soal terbaru, dan motivasi belajar</p>
                            </div>
                            
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                                <!-- TikTok -->
                                <a href="https://www.tiktok.com/@portal.tryout" target="_blank" rel="noopener noreferrer" 
                                   class="flex flex-col items-center p-4 bg-white rounded-xl border border-slate-200 hover:border-pink-300 hover:shadow-lg transition-all duration-300 group">
                                    <div class="w-10 h-10 bg-gradient-to-br from-pink-500 to-red-600 rounded-xl flex items-center justify-center mb-2 group-hover:scale-110 transition-transform duration-300">
                                        <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M19.59 6.69a4.83 4.83 0 01-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 01-5.2 1.74 2.89 2.89 0 012.31-4.64 2.93 2.93 0 01.88.13V9.4a6.84 6.84 0 00-.88-.05A6.33 6.33 0 005 20.1a6.34 6.34 0 0010.86-4.43v-7a8.16 8.16 0 004.77 1.52v-3.4a4.85 4.85 0 01-1-.1z"/>
                                        </svg>
                                    </div>
                                    <span class="text-xs font-medium text-slate-700 group-hover:text-pink-600 transition-colors">TikTok</span>
                                </a>
                                
                                <!-- Instagram -->
                                <a href="https://www.instagram.com/portaltryout/" target="_blank" rel="noopener noreferrer"
                                   class="flex flex-col items-center p-4 bg-white rounded-xl border border-slate-200 hover:border-purple-300 hover:shadow-lg transition-all duration-300 group">
                                    <div class="w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl flex items-center justify-center mb-2 group-hover:scale-110 transition-transform duration-300">
                                        <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                                        </svg>
                                    </div>
                                    <span class="text-xs font-medium text-slate-700 group-hover:text-purple-600 transition-colors">Instagram</span>
                                </a>
                                
                                <!-- YouTube -->
                                <a href="https://www.youtube.com/@portaltryout" target="_blank" rel="noopener noreferrer"
                                   class="flex flex-col items-center p-4 bg-white rounded-xl border border-slate-200 hover:border-red-300 hover:shadow-lg transition-all duration-300 group">
                                    <div class="w-10 h-10 bg-gradient-to-br from-red-500 to-red-700 rounded-xl flex items-center justify-center mb-2 group-hover:scale-110 transition-transform duration-300">
                                        <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                                        </svg>
                                    </div>
                                    <span class="text-xs font-medium text-slate-700 group-hover:text-red-600 transition-colors">YouTube</span>
                                </a>
                                
                                <!-- Email -->
                                <button id="emailBtn" 
                                        class="flex flex-col items-center p-4 bg-white rounded-xl border border-slate-200 hover:border-blue-300 hover:shadow-lg transition-all duration-300 group">
                                    <div class="w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-700 rounded-xl flex items-center justify-center mb-2 group-hover:scale-110 transition-transform duration-300">
                                        <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                                        </svg>
                                    </div>
                                    <span class="text-xs font-medium text-slate-700 group-hover:text-blue-600 transition-colors">Email</span>
                                </button>
                            </div>
                            
                            <div class="mt-4 text-center">
                                <p class="text-xs text-slate-500">
                                    💡 Follow untuk mendapatkan update soal terbaru dan tips sukses CPNS
                                </p>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>

        <!-- Admin Password Modal -->
        <div id="adminModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
            <div class="bg-white rounded-2xl max-w-md w-full p-8 shadow-2xl">
                <h3 class="text-2xl font-bold text-gray-800 mb-2 text-center">Akses Pembahasan</h3>
                <p class="text-gray-600 text-center mb-6">Masukkan password untuk melihat pembahasan</p>
                
                <form id="adminForm" class="space-y-4">
                    <div>
                        <label for="adminPassword" class="block text-sm font-medium text-gray-700 mb-2">
                            Password Admin
                        </label>
                        <input 
                            type="password" 
                            id="adminPassword" 
                            class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none transition-colors"
                            placeholder="Masukkan password"
                            required
                        >
                    </div>
                    <div class="flex gap-3">
                        <button 
                            type="button"
                            id="cancelAdminBtn"
                            class="flex-1 px-4 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors"
                        >
                            Batal
                        </button>
                        <button 
                            type="submit"
                            class="flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold"
                        >
                            Submit
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Confirmation Modal -->
        <div id="confirmModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
            <div class="bg-white rounded-2xl max-w-md w-full p-8 shadow-2xl text-center">
                <div class="w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <svg class="w-8 h-8 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path>
                    </svg>
                </div>
                <h3 class="text-xl font-bold text-gray-800 mb-2">Konfirmasi</h3>
                <p class="text-gray-600 mb-6">Apakah yakin langsung mau melihat pembahasan?</p>
                
                <div class="flex gap-3">
                    <button 
                        id="cancelConfirmBtn"
                        class="flex-1 px-4 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors"
                    >
                        Tidak
                    </button>
                    <button 
                        id="confirmYesBtn"
                        class="flex-1 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-semibold"
                    >
                        Ya, Lanjutkan
                    </button>
                </div>
            </div>
        </div>

        <!-- Pre-Exam Warning Modal -->
        <div id="preExamModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
            <div class="bg-white rounded-2xl max-w-lg w-full p-8 shadow-2xl">
                <div class="text-center mb-6">
                    <div class="w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg class="w-8 h-8 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path>
                        </svg>
                    </div>
                    <h3 class="text-2xl font-bold text-gray-800 mb-2">⚠️ Peringatan Penting</h3>
                    <p class="text-gray-600">Harap baca dengan teliti sebelum memulai tryout</p>
                </div>
                
                <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-6">
                    <ul class="space-y-3 text-left">
                        <li class="flex items-start gap-3">
                            <div class="w-6 h-6 bg-yellow-500 text-white rounded-full flex items-center justify-center text-sm font-bold mt-0.5">1</div>
                            <span class="text-gray-800 font-medium">Pastikan koneksi internet stabil selama pengerjaan</span>
                        </li>
                        <li class="flex items-start gap-3">
                            <div class="w-6 h-6 bg-yellow-500 text-white rounded-full flex items-center justify-center text-sm font-bold mt-0.5">2</div>
                            <span class="text-gray-800 font-medium">Jangan me-refresh halaman atau ujian akan dimulai dari awal</span>
                        </li>
                        <li class="flex items-start gap-3">
                            <div class="w-6 h-6 bg-yellow-500 text-white rounded-full flex items-center justify-center text-sm font-bold mt-0.5">3</div>
                            <span class="text-gray-800 font-medium">Kerjakan soal dengan teliti dan perhatikan waktu yang tersedia</span>
                        </li>
                    </ul>
                </div>
                
                <div class="flex gap-3">
                    <button 
                        id="cancelPreExamBtn"
                        class="flex-1 px-4 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors"
                    >
                        Batal
                    </button>
                    <button 
                        id="startExamBtn"
                        class="flex-1 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-semibold"
                    >
                        Saya Mengerti, Mulai Tryout
                    </button>
                </div>
            </div>
        </div>

        <!-- Page Refresh Warning Modal -->
        <div id="refreshWarningModal" class="fixed inset-0 bg-black bg-opacity-75 hidden items-center justify-center z-50 p-4">
            <div class="bg-white rounded-2xl max-w-lg w-full p-8 shadow-2xl text-center">
                <div class="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <svg class="w-8 h-8 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path>
                    </svg>
                </div>
                <h3 class="text-2xl font-bold text-gray-800 mb-3">⚠️ PERINGATAN PENTING!</h3>
                <div class="bg-red-50 border border-red-200 rounded-lg p-4 mb-6">
                    <p class="text-red-800 font-semibold mb-2">🚨 SEMUA JAWABAN ANDA AKAN HILANG!</p>
                    <p class="text-red-700 text-sm leading-relaxed">
                        Jika Anda me-refresh halaman atau keluar dari tryout ini, semua progress dan jawaban yang sudah Anda kerjakan akan hilang dan tidak dapat dikembalikan.
                    </p>
                </div>
                

                
                <button 
                    id="stayOnPageBtn"
                    class="w-full px-6 py-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold text-lg"
                >
                    🛡️ Tetap di Halaman Ini (Aman)
                </button>
            </div>
        </div>

        <!-- Email Modal -->
        <div id="emailModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
            <div class="bg-white rounded-2xl max-w-md w-full p-8 shadow-2xl">
                <div class="text-center mb-6">
                    <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                        </svg>
                    </div>
                    <h3 class="text-2xl font-bold text-gray-800 mb-2">📧 Kontak Email</h3>
                    <p class="text-gray-600">Hubungi kami untuk pertanyaan atau bantuan</p>
                </div>
                
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
                    <div class="flex items-center justify-between">
                        <div class="flex-1">
                            <p class="text-sm text-blue-700 font-medium mb-1">Email Portal Try Out:</p>
                            <p id="emailAddress" class="text-lg font-bold text-blue-800 select-all">portaltryout@gmail.com</p>
                        </div>
                        <button id="copyEmailBtn" class="ml-3 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium flex items-center gap-2">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                            </svg>
                            Copy
                        </button>
                    </div>
                </div>
                
                <div class="bg-green-50 border border-green-200 rounded-lg p-4 mb-6">
                    <div class="flex items-start gap-3">
                        <svg class="w-5 h-5 text-green-600 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        <div>
                            <p class="text-green-800 font-medium text-sm mb-1">💡 Tips Menghubungi Kami:</p>
                            <ul class="text-green-700 text-sm space-y-1">
                                <li>• Sertakan subjek yang jelas</li>
                                <li>• Jelaskan pertanyaan dengan detail</li>
                                <li>• Kami akan merespon dalam 1x24 jam</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="flex gap-3">
                    <button id="closeEmailBtn" class="flex-1 px-4 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors">
                        Tutup
                    </button>
                    <a href="mailto:portaltryout@gmail.com" class="flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold text-center">
                        Buka Email App
                    </a>
                </div>
            </div>
        </div>

        <!-- Review Page Refresh Warning Modal -->
        <div id="reviewRefreshWarningModal" class="fixed inset-0 bg-black bg-opacity-75 hidden items-center justify-center z-50 p-4">
            <div class="bg-white rounded-2xl max-w-lg w-full p-8 shadow-2xl text-center">
                <div class="w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <svg class="w-8 h-8 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path>
                    </svg>
                </div>
                <h3 class="text-2xl font-bold text-gray-800 mb-3">📚 PERINGATAN PEMBAHASAN!</h3>
                <div class="bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6">
                    <p class="text-orange-800 font-semibold mb-2">⚠️ PEMBAHASAN AKAN HILANG!</p>
                    <p class="text-orange-700 text-sm leading-relaxed">
                        Jika Anda me-refresh halaman sekarang, Anda akan kehilangan akses ke pembahasan lengkap dan harus mengerjakan tryout dari awal lagi.
                    </p>
                </div>
                
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
                    <p class="text-blue-800 font-medium text-sm">
                        📖 <strong>Saran:</strong> Pelajari pembahasan dengan seksama untuk memahami konsep dan meningkatkan kemampuan Anda.
                    </p>
                </div>
                
                <button 
                    id="stayOnReviewBtn"
                    class="w-full px-6 py-4 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors font-semibold text-lg"
                >
                    📚 Tetap Belajar Pembahasan
                </button>
            </div>
        </div>

        <!-- Exam Page -->
        <div id="examPage" class="min-h-full flex-col hidden">
            <!-- Header -->
            <header class="bg-white shadow-lg border-b-4 border-blue-600">
                <div class="max-w-7xl mx-auto px-4 py-4">
                    <div class="flex justify-between items-center">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 bg-gradient-to-br from-blue-600 to-indigo-700 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                                </svg>
                            </div>
                            <div>
                                <h1 class="text-2xl font-bold text-gray-800">Tryout CPNS</h1>
                                <p class="text-sm text-blue-600 font-semibold">"Latihan Cerdas, Karir Tuntas"</p>
                            </div>
                        </div>

                        <div class="text-right">
                            <div id="timer" class="text-3xl font-bold text-red-600 bg-red-50 px-4 py-2 rounded-lg border-2 border-red-200">
                                01:40:00
                            </div>
                            <p class="text-xs text-gray-500 mt-1">Waktu Tersisa</p>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Main Content -->
            <main class="flex-1 max-w-7xl mx-auto w-full px-4 py-6">
                <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
                    <!-- Navigation Panel -->
                    <div class="lg:col-span-1">
                        <div class="bg-white rounded-xl shadow-lg p-6 sticky top-6">
                            <h3 class="font-bold text-gray-800 mb-4">Navigasi Soal</h3>
                            <div class="grid grid-cols-5 gap-1" id="questionNav">
                                <!-- Navigation buttons will be generated here -->
                            </div>
                            <div class="mt-4 text-xs">
                                <div class="flex items-center gap-2 mb-1">
                                    <div class="w-3 h-3 bg-blue-600 rounded"></div>
                                    <span>Soal Aktif</span>
                                </div>
                                <div class="flex items-center gap-2 mb-1">
                                    <div class="w-3 h-3 bg-red-500 rounded"></div>
                                    <span>Sudah Dijawab</span>
                                </div>
                                <div class="flex items-center gap-2">
                                    <div class="w-3 h-3 bg-gray-300 rounded"></div>
                                    <span>Belum Dijawab</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Question Panel -->
                    <div class="lg:col-span-3">
                        <div class="bg-white rounded-xl shadow-lg p-8">
                            <div class="mb-6">
                                <div class="flex justify-between items-center mb-4">
                                    <div>
                                        <div class="text-sm font-medium text-blue-600 mb-1" id="currentSubTest">TWK - Tes Wawasan Kebangsaan</div>
                                        <h2 class="text-xl font-bold text-gray-800">
                                            Soal <span id="currentQuestionNumber">1</span> dari <span id="totalQuestions">110</span>
                                        </h2>
                                    </div>
                                    <div class="text-sm text-gray-500">
                                        Skor: <span id="questionScore" class="font-semibold">5</span> poin
                                    </div>
                                </div>
                            </div>

                            <!-- Question Content -->
                            <div id="questionContent" class="mb-8">
                                <!-- Question will be loaded here -->
                            </div>

                            <!-- Answer Options -->
                            <div id="answerOptions" class="space-y-3 mb-8">
                                <!-- Options will be loaded here -->
                            </div>

                            <!-- Navigation Buttons -->
                            <div class="flex justify-between">
                                <button id="prevBtn" class="px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
                                    ← Sebelumnya
                                </button>
                                <button id="submitBtn" class="px-8 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-semibold hidden">
                                    Submit Jawaban
                                </button>
                                <button id="nextBtn" class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">
                                    Selanjutnya →
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- Submit Confirmation Modal -->
        <div id="submitConfirmModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
            <div class="bg-white rounded-2xl max-w-md w-full p-8 shadow-2xl text-center">
                <div class="w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <svg class="w-8 h-8 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path>
                    </svg>
                </div>
                <h3 class="text-xl font-bold text-gray-800 mb-2">⚠️ Konfirmasi Submit</h3>
                <p class="text-gray-600 mb-4"><strong>Apakah Anda yakin untuk menyelesaikan Try Out ini?</strong></p>
                <p class="text-sm text-red-600 mb-4">Setelah di-submit, Anda tidak dapat mengubah jawaban lagi!</p>
                
                <div class="bg-gray-50 rounded-lg p-4 mb-6">
                    <h4 class="font-semibold text-gray-800 mb-3 text-center">📊 Ringkasan Jawaban</h4>
                    <div class="grid grid-cols-2 gap-4">
                        <div class="text-center p-3 bg-green-100 rounded-lg border border-green-200">
                            <div class="text-2xl font-bold text-green-700" id="answeredCount">0</div>
                            <div class="text-sm text-green-600">Sudah Dijawab</div>
                        </div>
                        <div class="text-center p-3 bg-red-100 rounded-lg border border-red-200">
                            <div class="text-2xl font-bold text-red-700" id="unansweredCount">0</div>
                            <div class="text-sm text-red-600">Belum Dijawab</div>
                        </div>
                    </div>
                </div>
                
                <div class="flex gap-3">
                    <button 
                        id="cancelSubmitBtn"
                        class="flex-1 px-4 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors"
                    >
                        Batal
                    </button>
                    <button 
                        id="confirmSubmitBtn"
                        class="flex-1 px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-semibold"
                    >
                        Ya, Submit Sekarang
                    </button>
                </div>
            </div>
        </div>

        <!-- Results Modal -->
        <div id="resultsModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
            <div class="bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto">
                <div class="p-8">
                    <h2 class="text-3xl font-bold text-center mb-6 text-gray-800">🎉 Hasil Tryout CPNS</h2>
                    
                    <!-- Sub Test Scores -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
                        <div class="bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg p-6 text-center">
                            <div class="text-2xl font-bold" id="twkScore">0</div>
                            <div class="text-sm opacity-90 mb-2">TWK Score</div>
                            <div class="text-xs" id="twkStatus">-</div>
                        </div>
                        <div class="bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg p-6 text-center">
                            <div class="text-2xl font-bold" id="tiuScore">0</div>
                            <div class="text-sm opacity-90 mb-2">TIU Score</div>
                            <div class="text-xs" id="tiuStatus">-</div>
                        </div>
                        <div class="bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg p-6 text-center">
                            <div class="text-2xl font-bold" id="tkpScore">0</div>
                            <div class="text-sm opacity-90 mb-2">TKP Score</div>
                            <div class="text-xs" id="tkpStatus">-</div>
                        </div>
                    </div>

                    <!-- Overall Summary -->
                    <div class="bg-gradient-to-r from-gray-700 to-gray-800 text-white rounded-lg p-6 mb-8">
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-center">
                            <div>
                                <div class="text-2xl font-bold" id="finalScore">0</div>
                                <div class="text-sm opacity-90">Total Skor</div>
                            </div>
                            <div>
                                <div class="text-2xl font-bold" id="correctAnswers">0</div>
                                <div class="text-sm opacity-90">Jawaban Benar</div>
                            </div>
                            <div>
                                <div class="text-2xl font-bold" id="percentage">0%</div>
                                <div class="text-sm opacity-90">Persentase</div>
                            </div>
                        </div>
                    </div>

                    <div class="text-center mt-8">
                        <button id="viewReviewBtn" class="px-8 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-semibold">
                            📝 Lihat Pembahasan
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Image Zoom Modal -->
        <div id="imageModal" class="fixed inset-0 bg-black bg-opacity-75 image-modal hidden items-center justify-center z-50 p-4">
            <div class="relative max-w-full max-h-full">
                <button id="closeImageModal" class="absolute -top-12 right-0 text-white hover:text-gray-300 text-2xl font-bold z-10">
                    ✕ Tutup
                </button>
                <img id="zoomedImage" src="" alt="Gambar Diperbesar" class="zoomed-image rounded-lg shadow-2xl">
                <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-50 text-white px-4 py-2 rounded-lg">
                    <p id="imageCaption" class="text-sm text-center"></p>
                </div>
            </div>
        </div>

        <!-- Review Page -->
        <div id="reviewPage" class="min-h-full flex-col hidden">
            <!-- Header -->
            <header class="bg-white shadow-lg border-b-4 border-green-600">
                <div class="max-w-7xl mx-auto px-4 py-4">
                    <div class="flex justify-between items-center">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 bg-gradient-to-br from-green-600 to-emerald-700 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                            </div>
                            <div>
                                <h1 class="text-2xl font-bold text-gray-800">Pembahasan Tryout CPNS</h1>
                                <p class="text-sm text-green-600 font-semibold">Review Jawaban & Penjelasan</p>
                            </div>
                        </div>
                        <button onclick="location.reload()" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">
                            Kembali ke Beranda
                        </button>
                    </div>
                </div>
            </header>

            <!-- Review Content -->
            <main class="flex-1 max-w-4xl mx-auto w-full px-4 py-6">
                <!-- Results Summary in Review -->
                <div id="reviewResultsSummary" class="mb-8">
                    <!-- Results summary will be added here -->
                </div>
                
                <div id="reviewContent" class="space-y-6">
                    <!-- Review items will be generated here -->
                </div>
            </main>
        </div>
    </div>

    <script>
        // Question data
        const questions = [
            {
                id: 1,
                subTest: "TWK",
                question: "Pancasila sebagai dasar negara Indonesia terdiri dari berapa sila?",
                questionImage: "https://i.postimg.cc/R0502tvs/Perencanaan-Rumah-1.png",
                options: [
                    { 
                        text: "3 sila", 
                        score: 1,
                        image: "https://i.postimg.cc/R0502tvs/Perencanaan-Rumah-1.png"
                    },
                    { 
                        text: "4 sila", 
                        score: 2,
                        image: "https://i.postimg.cc/R0502tvs/Perencanaan-Rumah-1.png"
                    },
                    { 
                        text: "5 sila", 
                        score: 5,
                        image: "https://i.postimg.cc/R0502tvs/Perencanaan-Rumah-1.png"
                    },
                    { 
                        text: "6 sila", 
                        score: 1,
                        image: "https://i.postimg.cc/R0502tvs/Perencanaan-Rumah-1.png"
                    },
                    { 
                        text: "7 sila", 
                        score: 1,
                        image: "https://i.postimg.cc/R0502tvs/Perencanaan-Rumah-1.png"
                    }
                ],
                correctAnswer: 2,
                explanation: "Pancasila sebagai dasar negara Indonesia terdiri dari 5 sila, yaitu: 1) Ketuhanan Yang Maha Esa, 2) Kemanusiaan yang adil dan beradab, 3) Persatuan Indonesia, 4) Kerakyatan yang dipimpin oleh hikmat kebijaksanaan dalam permusyawaratan/perwakilan, 5) Keadilan sosial bagi seluruh rakyat Indonesia.",

            },
            {
                id: 2,
                subTest: "TWK",
                question: "Siapa yang menjadi Presiden pertama Republik Indonesia?",
                options: [
                    { text: "Mohammad Hatta", score: 2 },
                    { text: "Soekarno", score: 5 },
                    { text: "Soeharto", score: 1 },
                    { text: "B.J. Habibie", score: 1 },
                    { text: "Megawati Soekarnoputri", score: 1 }
                ],
                correctAnswer: 1,
                explanation: "Soekarno adalah Presiden pertama Republik Indonesia yang menjabat dari tahun 1945-1967. Beliau juga dikenal sebagai Proklamator kemerdekaan Indonesia bersama Mohammad Hatta pada 17 Agustus 1945."
            }
        ];

        // Generate more questions to reach 110 total
        // TWK: 30 questions (3-30)
        for (let i = 3; i <= 30; i++) {
            questions.push({
                id: i,
                subTest: "TWK",
                question: `Soal TWK ${i}: Pertanyaan tentang Tes Wawasan Kebangsaan?`,
                options: [
                    { text: "Pilihan A", score: 1 },
                    { text: "Pilihan B", score: 2 },
                    { text: "Pilihan C (Benar)", score: 5 },
                    { text: "Pilihan D", score: 1 },
                    { text: "Pilihan E", score: 1 }
                ],
                correctAnswer: 2,
                explanation: `Pembahasan untuk soal TWK nomor ${i}: Pilihan C adalah jawaban yang benar karena sesuai dengan materi Tes Wawasan Kebangsaan. Penjelasan lengkap mengenai konsep ini dapat dipelajari lebih lanjut dalam buku panduan TWK.`
            });
        }

        // TIU: 35 questions (31-65)
        for (let i = 31; i <= 65; i++) {
            questions.push({
                id: i,
                subTest: "TIU",
                question: `Soal TIU ${i}: Pertanyaan tentang Tes Intelegensi Umum?`,
                options: [
                    { text: "Pilihan A", score: 1 },
                    { text: "Pilihan B", score: 2 },
                    { text: "Pilihan C (Benar)", score: 5 },
                    { text: "Pilihan D", score: 1 },
                    { text: "Pilihan E", score: 1 }
                ],
                correctAnswer: 2,
                explanation: `Pembahasan untuk soal TIU nomor ${i}: Pilihan C adalah jawaban yang benar karena sesuai dengan materi Tes Intelegensi Umum. Penjelasan lengkap mengenai konsep ini dapat dipelajari lebih lanjut dalam buku panduan TIU.`
            });
        }

        // TKP: 45 questions (66-110)
        for (let i = 66; i <= 110; i++) {
            questions.push({
                id: i,
                subTest: "TKP",
                question: `Soal TKP ${i}: Pertanyaan tentang Tes Karakteristik Pribadi?`,
                options: [
                    { text: "Pilihan A", score: 1 },
                    { text: "Pilihan B", score: 2 },
                    { text: "Pilihan C (Benar)", score: 5 },
                    { text: "Pilihan D", score: 1 },
                    { text: "Pilihan E", score: 1 }
                ],
                correctAnswer: 2,
                explanation: `Pembahasan untuk soal TKP nomor ${i}: Pilihan C adalah jawaban yang benar karena sesuai dengan materi Tes Karakteristik Pribadi. Penjelasan lengkap mengenai konsep ini dapat dipelajari lebih lanjut dalam buku panduan TKP.`
            });
        }

        // State management
        let currentQuestion = 0;
        let userAnswers = {};
        let timeLeft = 6000; // 100 minutes
        let timerInterval;
        let isSubmitted = false;
        let participantName = '';

        // Image zoom functions
        function openImageModal(imageSrc, caption) {
            const modal = document.getElementById('imageModal');
            const zoomedImage = document.getElementById('zoomedImage');
            const imageCaption = document.getElementById('imageCaption');
            
            zoomedImage.src = imageSrc;
            imageCaption.textContent = caption;
            
            modal.classList.remove('hidden');
            modal.classList.add('flex');
            
            // Prevent body scroll when modal is open
            document.body.style.overflow = 'hidden';
        }

        function closeImageModal() {
            const modal = document.getElementById('imageModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
            
            // Restore body scroll
            document.body.style.overflow = 'auto';
        }

        // Initialize the application
        function init() {
            document.getElementById('startForm').addEventListener('submit', function(e) {
                e.preventDefault();
                const token = document.getElementById('participantToken').value.trim();
                
                if (!token) {
                    alert('Silakan masukkan token akses');
                    return;
                }

                if (token !== 'latihancerdas') {
                    alert('Token akses salah!');
                    return;
                }

                participantName = 'Peserta';
                showPreExamWarning();
            });

            document.getElementById('adminBtn').addEventListener('click', function() {
                document.getElementById('adminModal').classList.remove('hidden');
                document.getElementById('adminModal').classList.add('flex');
            });

            document.getElementById('adminForm').addEventListener('submit', function(e) {
                e.preventDefault();
                const password = document.getElementById('adminPassword').value;
                if (password === 'admin123') {
                    document.getElementById('adminModal').classList.add('hidden');
                    document.getElementById('confirmModal').classList.remove('hidden');
                    document.getElementById('confirmModal').classList.add('flex');
                } else {
                    alert('Password salah!');
                }
            });

            document.getElementById('cancelAdminBtn').addEventListener('click', function() {
                document.getElementById('adminModal').classList.add('hidden');
                document.getElementById('adminPassword').value = '';
            });

            document.getElementById('cancelConfirmBtn').addEventListener('click', function() {
                document.getElementById('confirmModal').classList.add('hidden');
            });

            document.getElementById('confirmYesBtn').addEventListener('click', function() {
                participantName = 'Peserta';
                document.getElementById('confirmModal').classList.add('hidden');
                showReviewPage();
            });

            document.getElementById('cancelSubmitBtn').addEventListener('click', function() {
                document.getElementById('submitConfirmModal').classList.add('hidden');
            });

            document.getElementById('confirmSubmitBtn').addEventListener('click', function() {
                document.getElementById('submitConfirmModal').classList.add('hidden');
                submitAnswers();
            });

            document.getElementById('viewReviewBtn').addEventListener('click', function() {
                showReviewPage();
            });

            // Pre-exam warning modal handlers
            document.getElementById('cancelPreExamBtn').addEventListener('click', function() {
                document.getElementById('preExamModal').classList.add('hidden');
            });

            document.getElementById('startExamBtn').addEventListener('click', function() {
                document.getElementById('preExamModal').classList.add('hidden');
                startExam();
            });

            // Page refresh warning handlers
            document.getElementById('stayOnPageBtn').addEventListener('click', function() {
                document.getElementById('refreshWarningModal').classList.add('hidden');
            });

            // Review page refresh warning handlers
            document.getElementById('stayOnReviewBtn').addEventListener('click', function() {
                document.getElementById('reviewRefreshWarningModal').classList.add('hidden');
            });

            // Email modal handlers
            document.getElementById('emailBtn').addEventListener('click', function() {
                document.getElementById('emailModal').classList.remove('hidden');
                document.getElementById('emailModal').classList.add('flex');
            });

            document.getElementById('closeEmailBtn').addEventListener('click', function() {
                document.getElementById('emailModal').classList.add('hidden');
                document.getElementById('emailModal').classList.remove('flex');
            });

            document.getElementById('copyEmailBtn').addEventListener('click', function() {
                const email = 'portaltryout@gmail.com';
                
                // Try to use the modern clipboard API
                if (navigator.clipboard && window.isSecureContext) {
                    navigator.clipboard.writeText(email).then(function() {
                        showCopySuccess();
                    }).catch(function() {
                        fallbackCopyTextToClipboard(email);
                    });
                } else {
                    // Fallback for older browsers or non-secure contexts
                    fallbackCopyTextToClipboard(email);
                }
            });

            // Image modal event listeners
            document.getElementById('closeImageModal').addEventListener('click', closeImageModal);
            
            // Close modal when clicking outside the image
            document.getElementById('imageModal').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeImageModal();
                }
            });
            
            // Close modal with Escape key
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeImageModal();
                }
            });
        }

        function showPreExamWarning() {
            document.getElementById('preExamModal').classList.remove('hidden');
            document.getElementById('preExamModal').classList.add('flex');
        }

        function startExam() {
            document.getElementById('welcomePage').style.display = 'none';
            document.getElementById('examPage').style.display = 'flex';
            
            // Enable page protection
            enablePageProtection();
            
            generateNavigationButtons();
            loadQuestion(0);
            startTimer();
            updateNavigationButtons();
        }

        function enablePageProtection() {
            // Prevent page refresh/close during exam with custom message
            window.addEventListener('beforeunload', function(e) {
                if (!isSubmitted) {
                    const message = '⚠️ PERINGATAN! Semua jawaban Anda akan hilang jika me-refresh atau keluar dari halaman ini. Apakah Anda yakin ingin melanjutkan?';
                    e.preventDefault();
                    e.returnValue = message;
                    return message;
                }
            });

            // Show warning if user tries to navigate away
            window.addEventListener('pagehide', function(e) {
                if (!isSubmitted) {
                    setTimeout(() => {
                        document.getElementById('refreshWarningModal').classList.remove('hidden');
                        document.getElementById('refreshWarningModal').classList.add('flex');
                    }, 100);
                }
            });

            // Detect page visibility changes
            document.addEventListener('visibilitychange', function() {
                if (document.hidden && !isSubmitted) {
                    setTimeout(() => {
                        if (document.hidden) {
                            document.getElementById('refreshWarningModal').classList.remove('hidden');
                            document.getElementById('refreshWarningModal').classList.add('flex');
                        }
                    }, 1000);
                }
            });

            // Additional protection for F5, Ctrl+R, and other refresh methods
            document.addEventListener('keydown', function(e) {
                if (!isSubmitted) {
                    // F5 key
                    if (e.key === 'F5') {
                        e.preventDefault();
                        showRefreshWarning();
                        return false;
                    }
                    
                    // Ctrl+R (Windows/Linux) or Cmd+R (Mac)
                    if ((e.ctrlKey || e.metaKey) && e.key === 'r') {
                        e.preventDefault();
                        showRefreshWarning();
                        return false;
                    }
                    
                    // Ctrl+F5 (hard refresh)
                    if (e.ctrlKey && e.key === 'F5') {
                        e.preventDefault();
                        showRefreshWarning();
                        return false;
                    }
                }
            });
        }

        function showRefreshWarning() {
            document.getElementById('refreshWarningModal').classList.remove('hidden');
            document.getElementById('refreshWarningModal').classList.add('flex');
        }

        function enableReviewPageProtection() {
            // Prevent page refresh/close during review with custom message
            window.addEventListener('beforeunload', function(e) {
                const message = '📚 PERINGATAN! Pembahasan akan hilang jika me-refresh. Pelajari dulu pembahasan lengkapnya!';
                e.preventDefault();
                e.returnValue = message;
                return message;
            });

            // Show warning if user tries to navigate away from review
            window.addEventListener('pagehide', function(e) {
                setTimeout(() => {
                    document.getElementById('reviewRefreshWarningModal').classList.remove('hidden');
                    document.getElementById('reviewRefreshWarningModal').classList.add('flex');
                }, 100);
            });

            // Detect page visibility changes during review
            document.addEventListener('visibilitychange', function() {
                if (document.hidden) {
                    setTimeout(() => {
                        if (document.hidden) {
                            document.getElementById('reviewRefreshWarningModal').classList.remove('hidden');
                            document.getElementById('reviewRefreshWarningModal').classList.add('flex');
                        }
                    }, 1000);
                }
            });

            // Additional protection for F5, Ctrl+R during review
            document.addEventListener('keydown', function(e) {
                // F5 key
                if (e.key === 'F5') {
                    e.preventDefault();
                    showReviewRefreshWarning();
                    return false;
                }
                
                // Ctrl+R (Windows/Linux) or Cmd+R (Mac)
                if ((e.ctrlKey || e.metaKey) && e.key === 'r') {
                    e.preventDefault();
                    showReviewRefreshWarning();
                    return false;
                }
                
                // Ctrl+F5 (hard refresh)
                if (e.ctrlKey && e.key === 'F5') {
                    e.preventDefault();
                    showReviewRefreshWarning();
                    return false;
                }
            });
        }

        function showReviewRefreshWarning() {
            document.getElementById('reviewRefreshWarningModal').classList.remove('hidden');
            document.getElementById('reviewRefreshWarningModal').classList.add('flex');
        }

        function generateNavigationButtons() {
            const navContainer = document.getElementById('questionNav');
            navContainer.innerHTML = '';
            
            questions.forEach((_, index) => {
                const button = document.createElement('button');
                button.textContent = index + 1;
                button.className = 'w-8 h-8 text-xs font-medium rounded bg-gray-300 hover:bg-gray-400 transition-colors';
                button.onclick = () => loadQuestion(index);
                navContainer.appendChild(button);
            });
        }

        function loadQuestion(index) {
            currentQuestion = index;
            const question = questions[index];
            
            document.getElementById('currentQuestionNumber').textContent = index + 1;
            document.getElementById('totalQuestions').textContent = questions.length;
            document.getElementById('currentSubTest').textContent = `${question.subTest} - ${getSubTestName(question.subTest)}`;
            
            let questionHTML = `<p class="text-lg text-gray-800 leading-relaxed mb-4">${question.question}</p>`;
            
            if (question.questionImage && question.questionImage.trim() !== '') {
                questionHTML += `
                    <div class="mt-4 mb-4">
                        <div class="relative inline-block">
                            <img src="${question.questionImage}" 
                                 alt="Gambar Soal ${index + 1}" 
                                 class="zoom-image max-w-full h-auto rounded-lg border-2 border-gray-300 shadow-lg cursor-pointer"
                                 style="max-height: 400px; object-fit: contain;"
                                 onclick="openImageModal('${question.questionImage}', 'Gambar Soal ${index + 1}')"
                                 onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                            <div class="text-red-500 text-sm mt-2 hidden">❌ Gambar soal gagal dimuat</div>
                            <div class="absolute top-2 right-2 bg-blue-600 text-white px-2 py-1 rounded-full text-xs font-medium opacity-90">
                                🔍 Klik untuk zoom
                            </div>
                        </div>
                    </div>
                `;
            }
            
            document.getElementById('questionContent').innerHTML = questionHTML;
            
            const optionsContainer = document.getElementById('answerOptions');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, optionIndex) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'flex items-start p-4 border-2 border-gray-200 rounded-lg hover:border-blue-300 transition-colors cursor-pointer';
                
                const isSelected = userAnswers[index] === optionIndex;
                if (isSelected) {
                    optionDiv.className += ' border-blue-500 bg-blue-50';
                }
                
                const hasImage = option.image && option.image.trim() !== '';
                
                optionDiv.innerHTML = `
                    <input type="radio" name="answer" value="${optionIndex}" class="mr-4 w-4 h-4 text-blue-600 mt-1" ${isSelected ? 'checked' : ''}>
                    <div class="flex-1">
                        <label class="cursor-pointer text-gray-800 font-medium block mb-2">${String.fromCharCode(65 + optionIndex)}. ${option.text}</label>
                        ${hasImage ? `
                            <div class="mt-3">
                                <div class="relative inline-block">
                                    <img src="${option.image}" alt="Opsi ${String.fromCharCode(65 + optionIndex)}" 
                                         class="zoom-image max-w-full h-auto rounded-lg border-2 border-gray-300 shadow-lg cursor-pointer"
                                         style="max-height: 300px; object-fit: contain;"
                                         onclick="openImageModal('${option.image}', 'Gambar Opsi ${String.fromCharCode(65 + optionIndex)} - Soal ${index + 1}')"
                                         onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                                    <div class="text-red-500 text-sm mt-2 hidden">❌ Gambar gagal dimuat</div>
                                    <div class="absolute top-2 right-2 bg-green-600 text-white px-2 py-1 rounded-full text-xs font-medium opacity-90">
                                        🔍 Zoom
                                    </div>
                                </div>
                            </div>
                        ` : ''}
                    </div>
                `;
                
                optionDiv.onclick = () => selectAnswer(index, optionIndex);
                optionsContainer.appendChild(optionDiv);
            });
            
            updateNavigationButtons();
            updateQuestionNavigation();
        }

        function selectAnswer(questionIndex, answerIndex) {
            userAnswers[questionIndex] = answerIndex;
            loadQuestion(questionIndex);
        }

        function updateNavigationButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const submitBtn = document.getElementById('submitBtn');
            
            prevBtn.disabled = currentQuestion === 0;
            
            if (currentQuestion === questions.length - 1) {
                nextBtn.style.display = 'none';
                submitBtn.style.display = 'block';
            } else {
                nextBtn.style.display = 'block';
                submitBtn.style.display = 'none';
            }
            
            prevBtn.onclick = () => {
                if (currentQuestion > 0) {
                    loadQuestion(currentQuestion - 1);
                }
            };
            
            nextBtn.onclick = () => {
                if (currentQuestion < questions.length - 1) {
                    loadQuestion(currentQuestion + 1);
                }
            };
            
            submitBtn.onclick = () => {
                showSubmitConfirmation();
            };
        }

        function updateQuestionNavigation() {
            const navButtons = document.querySelectorAll('#questionNav button');
            navButtons.forEach((button, index) => {
                button.className = 'w-8 h-8 text-xs font-medium rounded transition-colors';
                
                if (index === currentQuestion) {
                    button.className += ' bg-blue-600 text-white';
                } else if (userAnswers.hasOwnProperty(index)) {
                    button.className += ' bg-red-500 text-white';
                } else {
                    button.className += ' bg-gray-300 hover:bg-gray-400';
                }
            });
        }

        function showSubmitConfirmation() {
            const answered = Object.keys(userAnswers).length;
            const unanswered = questions.length - answered;
            
            document.getElementById('answeredCount').textContent = answered;
            document.getElementById('unansweredCount').textContent = unanswered;
            
            document.getElementById('submitConfirmModal').classList.remove('hidden');
            document.getElementById('submitConfirmModal').classList.add('flex');
        }

        function submitAnswers() {
            clearInterval(timerInterval);
            isSubmitted = true;
            
            let totalScore = 0;
            let correctAnswers = 0;
            let twkScore = 0;
            let tiuScore = 0;
            let tkpScore = 0;
            
            questions.forEach((question, index) => {
                if (userAnswers.hasOwnProperty(index)) {
                    const selectedOption = question.options[userAnswers[index]];
                    totalScore += selectedOption.score;
                    
                    // Calculate sub-test scores
                    if (question.subTest === 'TWK') {
                        twkScore += selectedOption.score;
                    } else if (question.subTest === 'TIU') {
                        tiuScore += selectedOption.score;
                    } else if (question.subTest === 'TKP') {
                        tkpScore += selectedOption.score;
                    }
                    
                    if (userAnswers[index] === question.correctAnswer) {
                        correctAnswers++;
                    }
                }
            });
            
            const percentage = Math.round((correctAnswers / questions.length) * 100);
            showResults(totalScore, correctAnswers, percentage, twkScore, tiuScore, tkpScore);
        }

        function showResults(totalScore, correctAnswers, percentage, twkScore, tiuScore, tkpScore) {
            document.getElementById('twkScore').textContent = twkScore;
            document.getElementById('tiuScore').textContent = tiuScore;
            document.getElementById('tkpScore').textContent = tkpScore;
            
            // Update status with color coding and icons
            const twkStatusElement = document.getElementById('twkStatus');
            const tiuStatusElement = document.getElementById('tiuStatus');
            const tkpStatusElement = document.getElementById('tkpStatus');
            
            if (twkScore >= 65) {
                twkStatusElement.innerHTML = '<div class="flex items-center justify-center gap-1 bg-green-600 rounded-full px-3 py-1"><svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg><span class="text-xs font-bold text-white">LULUS</span></div>';
            } else {
                twkStatusElement.innerHTML = '<div class="flex items-center justify-center gap-1 bg-red-600 rounded-full px-3 py-1"><svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg><span class="text-xs font-bold text-white">TIDAK LULUS</span></div>';
            }
            
            if (tiuScore >= 80) {
                tiuStatusElement.innerHTML = '<div class="flex items-center justify-center gap-1 bg-green-600 rounded-full px-3 py-1"><svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg><span class="text-xs font-bold text-white">LULUS</span></div>';
            } else {
                tiuStatusElement.innerHTML = '<div class="flex items-center justify-center gap-1 bg-red-600 rounded-full px-3 py-1"><svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg><span class="text-xs font-bold text-white">TIDAK LULUS</span></div>';
            }
            
            if (tkpScore >= 166) {
                tkpStatusElement.innerHTML = '<div class="flex items-center justify-center gap-1 bg-green-600 rounded-full px-3 py-1"><svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg><span class="text-xs font-bold text-white">LULUS</span></div>';
            } else {
                tkpStatusElement.innerHTML = '<div class="flex items-center justify-center gap-1 bg-red-600 rounded-full px-3 py-1"><svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg><span class="text-xs font-bold text-white">TIDAK LULUS</span></div>';
            }
            
            document.getElementById('finalScore').textContent = totalScore;
            document.getElementById('correctAnswers').textContent = correctAnswers;
            document.getElementById('percentage').textContent = percentage + '%';
            
            document.getElementById('resultsModal').classList.remove('hidden');
            document.getElementById('resultsModal').classList.add('flex');
        }

        function showReviewPage() {
            document.getElementById('resultsModal').classList.add('hidden');
            document.getElementById('examPage').style.display = 'none';
            document.getElementById('reviewPage').style.display = 'flex';
            
            // Enable review page protection
            enableReviewPageProtection();
            
            generateReviewContent();
        }

        function generateReviewContent() {
            // Add results summary to review page
            const reviewResultsContainer = document.getElementById('reviewResultsSummary');
            
            // Calculate scores
            let totalScore = 0;
            let correctAnswers = 0;
            let twkScore = 0;
            let tiuScore = 0;
            let tkpScore = 0;
            
            questions.forEach((question, index) => {
                if (userAnswers.hasOwnProperty(index)) {
                    const selectedOption = question.options[userAnswers[index]];
                    totalScore += selectedOption.score;
                    
                    // Calculate sub-test scores
                    if (question.subTest === 'TWK') {
                        twkScore += selectedOption.score;
                    } else if (question.subTest === 'TIU') {
                        tiuScore += selectedOption.score;
                    } else if (question.subTest === 'TKP') {
                        tkpScore += selectedOption.score;
                    }
                    
                    if (userAnswers[index] === question.correctAnswer) {
                        correctAnswers++;
                    }
                }
            });
            
            const percentage = Math.round((correctAnswers / questions.length) * 100);
            
            reviewResultsContainer.innerHTML = `
                <div class="bg-blue-50 border border-blue-200 rounded-xl p-6 mb-6">
                    <div class="flex items-start gap-3">
                        <div class="w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
                            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                        <div class="flex-1">
                            <h3 class="text-lg font-semibold text-blue-800 mb-2">📚 Informasi Pembahasan</h3>
                            <p class="text-blue-700 leading-relaxed">
                                Anda dapat membaca kembali pembahasan ini kapan saja dengan mengklik tombol <strong>"🔐 Akses Pembahasan"</strong> di halaman utama dan memasukkan password: <code class="bg-blue-200 px-2 py-1 rounded font-mono text-sm">admin123</code>
                            </p>
                        </div>
                    </div>
                </div>
                <div class="bg-white rounded-xl shadow-lg p-8">
                    <h2 class="text-3xl font-bold text-center mb-6 text-gray-800">🎉 Hasil Tryout CPNS</h2>
                    
                    <!-- Sub Test Scores -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
                        <div class="bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg p-6 text-center">
                            <div class="text-2xl font-bold">${twkScore}</div>
                            <div class="text-sm opacity-90 mb-2">TWK Score</div>
                            <div class="flex items-center justify-center gap-1 ${twkScore >= 65 ? 'bg-green-600' : 'bg-red-600'} rounded-full px-3 py-1">
                                ${twkScore >= 65 ? 
                                    '<svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>' :
                                    '<svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>'
                                }
                                <span class="text-xs font-bold text-white">${twkScore >= 65 ? 'LULUS' : 'TIDAK LULUS'}</span>
                            </div>
                        </div>
                        <div class="bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg p-6 text-center">
                            <div class="text-2xl font-bold">${tiuScore}</div>
                            <div class="text-sm opacity-90 mb-2">TIU Score</div>
                            <div class="flex items-center justify-center gap-1 ${tiuScore >= 80 ? 'bg-green-600' : 'bg-red-600'} rounded-full px-3 py-1">
                                ${tiuScore >= 80 ? 
                                    '<svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>' :
                                    '<svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>'
                                }
                                <span class="text-xs font-bold text-white">${tiuScore >= 80 ? 'LULUS' : 'TIDAK LULUS'}</span>
                            </div>
                        </div>
                        <div class="bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg p-6 text-center">
                            <div class="text-2xl font-bold">${tkpScore}</div>
                            <div class="text-sm opacity-90 mb-2">TKP Score</div>
                            <div class="flex items-center justify-center gap-1 ${tkpScore >= 166 ? 'bg-green-600' : 'bg-red-600'} rounded-full px-3 py-1">
                                ${tkpScore >= 166 ? 
                                    '<svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>' :
                                    '<svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>'
                                }
                                <span class="text-xs font-bold text-white">${tkpScore >= 166 ? 'LULUS' : 'TIDAK LULUS'}</span>
                            </div>
                        </div>
                    </div>

                    <!-- Overall Summary -->
                    <div class="bg-gradient-to-r from-gray-700 to-gray-800 text-white rounded-lg p-6 mb-6">
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-center">
                            <div>
                                <div class="text-2xl font-bold">${totalScore}</div>
                                <div class="text-sm opacity-90">Total Skor</div>
                            </div>
                            <div>
                                <div class="text-2xl font-bold">${correctAnswers}</div>
                                <div class="text-sm opacity-90">Jawaban Benar</div>
                            </div>
                            <div>
                                <div class="text-2xl font-bold">${percentage}%</div>
                                <div class="text-sm opacity-90">Persentase</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="text-center">
                        <h3 class="text-xl font-bold text-gray-800 mb-4">📚 Pembahasan Lengkap</h3>
                        <p class="text-gray-600">Berikut adalah review jawaban dan penjelasan untuk setiap soal:</p>
                    </div>
                </div>
            `;
            
            const reviewContainer = document.getElementById('reviewContent');
            reviewContainer.innerHTML = '';
            
            questions.forEach((question, index) => {
                const userAnswer = userAnswers[index];
                const isCorrect = userAnswer === question.correctAnswer;
                const isAnswered = userAnswers.hasOwnProperty(index);
                
                const reviewItem = document.createElement('div');
                reviewItem.className = 'bg-white rounded-xl shadow-lg p-6 border-l-4 ' + 
                    (isAnswered ? (isCorrect ? 'border-green-500' : 'border-red-500') : 'border-gray-400');
                
                reviewItem.innerHTML = `
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <div class="text-sm font-medium text-blue-600 mb-1">${question.subTest} - ${getSubTestName(question.subTest)}</div>
                            <h3 class="text-lg font-bold text-gray-800">Soal ${index + 1}</h3>
                        </div>
                        <div class="flex items-center gap-2">
                            ${isAnswered ? 
                                (isCorrect ? 
                                    '<span class="px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium">✓ Benar (+5 poin)</span>' : 
                                    '<span class="px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm font-medium">✗ Salah (+' + question.options[userAnswer].score + ' poin)</span>'
                                ) : 
                                '<span class="px-3 py-1 bg-gray-100 text-gray-800 rounded-full text-sm font-medium">Tidak Dijawab (0 poin)</span>'
                            }
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <p class="text-gray-800 leading-relaxed mb-4">${question.question}</p>
                        ${question.questionImage && question.questionImage.trim() !== '' ? `
                            <div class="mt-4 mb-4">
                                <div class="relative inline-block">
                                    <img src="${question.questionImage}" 
                                         alt="Gambar Soal ${index + 1}" 
                                         class="zoom-image max-w-full h-auto rounded-lg border-2 border-gray-300 shadow-lg cursor-pointer"
                                         style="max-height: 400px; object-fit: contain;"
                                         onclick="openImageModal('${question.questionImage}', 'Gambar Soal ${index + 1} - Review')"
                                         onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                                    <div class="text-red-500 text-sm mt-2 hidden">❌ Gambar soal gagal dimuat</div>
                                    <div class="absolute top-2 right-2 bg-blue-600 text-white px-2 py-1 rounded-full text-xs font-medium opacity-90">
                                        🔍 Klik untuk zoom
                                    </div>
                                </div>
                            </div>
                        ` : ''}
                    </div>
                    
                    <div class="space-y-3 mb-4">
                        ${question.options.map((option, optionIndex) => {
                            let optionClass = 'p-4 rounded-lg border ';
                            if (optionIndex === question.correctAnswer) {
                                optionClass += 'bg-green-50 border-green-300 text-green-800';
                            } else if (isAnswered && userAnswer === optionIndex && optionIndex !== question.correctAnswer) {
                                optionClass += 'bg-red-50 border-red-300 text-red-800';
                            } else {
                                optionClass += 'bg-gray-50 border-gray-200 text-gray-700';
                            }
                            
                            const hasImage = option.image && option.image.trim() !== '';
                            
                            return `
                                <div class="${optionClass}">
                                    <div class="flex items-start gap-3">
                                        <div class="flex-1">
                                            <div class="font-medium mb-2">
                                                <span>${String.fromCharCode(65 + optionIndex)}.</span> ${option.text}
                                                ${optionIndex === question.correctAnswer ? ' <span class="text-green-600 font-semibold">(Jawaban Benar)</span>' : ''}
                                                ${isAnswered && userAnswer === optionIndex && optionIndex !== question.correctAnswer ? ' <span class="text-red-600 font-semibold">(Jawaban Anda)</span>' : ''}
                                            </div>
                                            ${hasImage ? `
                                                <div class="mt-3">
                                                    <div class="relative inline-block">
                                                        <img src="${option.image}" alt="Opsi ${String.fromCharCode(65 + optionIndex)}" 
                                                             class="zoom-image max-w-full h-auto rounded-lg border-2 border-gray-300 shadow-lg cursor-pointer"
                                                             style="max-height: 250px; object-fit: contain;"
                                                             onclick="openImageModal('${option.image}', 'Review - Gambar Opsi ${String.fromCharCode(65 + optionIndex)} Soal ${index + 1}')"
                                                             onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                                                        <div class="text-red-500 text-sm mt-2 hidden">❌ Gambar gagal dimuat</div>
                                                        <div class="absolute top-2 right-2 bg-green-600 text-white px-2 py-1 rounded-full text-xs font-medium opacity-90">
                                                            🔍 Zoom
                                                        </div>
                                                    </div>
                                                </div>
                                            ` : ''}
                                        </div>
                                    </div>
                                </div>
                            `;
                        }).join('')}
                    </div>
                    
                    <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4">
                        <h4 class="font-semibold text-blue-800 mb-2">💡 Pembahasan Umum:</h4>
                        <p class="text-blue-700 leading-relaxed">${question.explanation}</p>
                    </div>
                    
                    ${question.optionExplanations ? `
                        <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                            <h4 class="font-semibold text-gray-800 mb-4">📋 Pembahasan Per Opsi:</h4>
                            <div class="space-y-4">
                                ${question.optionExplanations.map((optionExp, expIndex) => {
                                    const hasImage = optionExp.image && optionExp.image.trim() !== '';
                                    return `
                                        <div class="bg-white rounded-lg p-4 border border-gray-200">
                                            <div class="flex items-start gap-3">
                                                <div class="flex-1">
                                                    <h5 class="font-medium text-gray-800 mb-2">
                                                        Opsi ${String.fromCharCode(65 + expIndex)}:
                                                    </h5>
                                                    <p class="text-gray-700 leading-relaxed mb-3">${optionExp.text}</p>
                                                    ${hasImage ? `
                                                        <div class="mt-3">
                                                            <div class="relative inline-block">
                                                                <img src="${optionExp.image}" alt="Pembahasan Opsi ${String.fromCharCode(65 + expIndex)}" 
                                                                     class="zoom-image max-w-full h-auto rounded-lg border-2 border-gray-300 shadow-lg cursor-pointer"
                                                                     style="max-height: 300px; object-fit: contain;"
                                                                     onclick="openImageModal('${optionExp.image}', 'Pembahasan Opsi ${String.fromCharCode(65 + expIndex)} - Soal ${index + 1}')"
                                                                     onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                                                                <div class="text-red-500 text-sm mt-2 hidden">❌ Gambar pembahasan gagal dimuat</div>
                                                                <div class="absolute top-2 right-2 bg-purple-600 text-white px-2 py-1 rounded-full text-xs font-medium opacity-90">
                                                                    🔍 Zoom
                                                                </div>
                                                            </div>
                                                        </div>
                                                    ` : ''}
                                                </div>
                                            </div>
                                        </div>
                                    `;
                                }).join('')}
                            </div>
                        </div>
                    ` : ''}
                `;
                
                reviewContainer.appendChild(reviewItem);
            });
        }

        function startTimer() {
            timerInterval = setInterval(() => {
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    submitAnswers();
                    return;
                }
                
                timeLeft--;
                updateTimerDisplay();
            }, 1000);
        }

        function updateTimerDisplay() {
            const hours = Math.floor(timeLeft / 3600);
            const minutes = Math.floor((timeLeft % 3600) / 60);
            const seconds = timeLeft % 60;
            
            const display = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            document.getElementById('timer').textContent = display;
            
            if (timeLeft <= 5) { // 5 seconds warning
                document.getElementById('timer').classList.add('timer-warning');
            }
        }

        function getSubTestName(subTest) {
            const names = {
                'TWK': 'Tes Wawasan Kebangsaan',
                'TIU': 'Tes Intelegensi Umum',
                'TKP': 'Tes Karakteristik Pribadi'
            };
            return names[subTest] || subTest;
        }

        // Copy helper functions
        function fallbackCopyTextToClipboard(text) {
            const textArea = document.createElement("textarea");
            textArea.value = text;
            
            // Avoid scrolling to bottom
            textArea.style.top = "0";
            textArea.style.left = "0";
            textArea.style.position = "fixed";
            
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
                const successful = document.execCommand('copy');
                if (successful) {
                    showCopySuccess();
                } else {
                    showCopyError();
                }
            } catch (err) {
                showCopyError();
            }
            
            document.body.removeChild(textArea);
        }

        function showCopySuccess() {
            const copyBtn = document.getElementById('copyEmailBtn');
            const originalText = copyBtn.innerHTML;
            
            copyBtn.innerHTML = `
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                Copied!
            `;
            copyBtn.className = copyBtn.className.replace('bg-blue-600 hover:bg-blue-700', 'bg-green-600 hover:bg-green-700');
            
            setTimeout(() => {
                copyBtn.innerHTML = originalText;
                copyBtn.className = copyBtn.className.replace('bg-green-600 hover:bg-green-700', 'bg-blue-600 hover:bg-blue-700');
            }, 2000);
        }

        function showCopyError() {
            const copyBtn = document.getElementById('copyEmailBtn');
            const originalText = copyBtn.innerHTML;
            
            copyBtn.innerHTML = `
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
                Error
            `;
            copyBtn.className = copyBtn.className.replace('bg-blue-600 hover:bg-blue-700', 'bg-red-600 hover:bg-red-700');
            
            setTimeout(() => {
                copyBtn.innerHTML = originalText;
                copyBtn.className = copyBtn.className.replace('bg-red-600 hover:bg-red-700', 'bg-blue-600 hover:bg-blue-700');
            }, 2000);
            
            // Show manual copy instruction
            alert('Gagal menyalin otomatis. Silakan copy manual: portaltryout@gmail.com');
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', init);
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98bb2946e3cd4ad6',t:'MTc1OTk4NDQyMS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
